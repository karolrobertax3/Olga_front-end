<!--Corpo da pagina Compras-->
  <div class="container">
    <div class="row mt-5 mb-5">
      <div class="col-md-12">
        <div class="filtro">
          <button class="btn-filtro" (click)='findOrganicos()'>Orgânicos</button>
          <div class="d-flex">
            <input type="text" class="pesquisar" id="titulo" placeholder="Pesquisar produto" [(ngModel)]='tituloProd' (keyup)='findByTituloProduto()'>
            <span class="btn-pesquisa"><img src="https://i.imgur.com/T4FB0as.png"></span>
          </div>
          <!-- Botão para acionar modal -->
        <button class="btn-filtro" type="button" data-toggle="modal" data-target="#ModalLongoExemplo">
          Cadastre Um Novo Produto
        </button>
        </div> 
  
      </div>
    </div>
  </div>
  
  <div class="container">
  
    <!-- <div class="row d-flex justify-content-center">
      <div class="col-md-4">
        
      </div>
    </div> -->
  
      <div class="row">
          <div class="card-container" *ngFor='let item of listaProdutos'>
            <p class="text-uppercase">{{item.titulo}}</p>
            <img class="card-img-top" src="{{item.fotoProduto}}" alt="Imagem de capa do card">
            <p class="text-uppercase">Estoque: {{item.qtdEstoque}}</p>
          <div class="card-box">   
            <div class="container-compra">
            <p class="preco"><span>R$ {{item.preco}}</span></p>
            <input (input)='qtdCompra($event)' type="number" placeholder="Quantidade">
            <button class="btn-compra" (click)='atualizarCarrinho(item)'><i class="fa fa-shopping-basket" aria-hidden="true"></i>
            </button>
            </div>
          </div>
          </div>
      </div>
<!--
      
      <div class="row">
        <div class="col-md-12 carrinho" id="carrinho">
          <div class="row">
            <p class="text-uppercase">Lista de compras <i class="fa fa-shopping-cart" aria-hidden="true"></i></p>
            <div class="exibir row" *ngFor='let item of totalCompras'>
              <p class="text-uppercase font-weight-bold nome">Nome: {{item.titulo}}</p>
              <p class="text-uppercase font-weight-bold qtd">Quantidade: {{item.quantidade}}</p>
              <p class="text-uppercase font-weight-bold precoUn">Preço unitário R$ {{item.preco}}</p>
            </div>
        
          </div>
        </div>
        <p class="text-uppercase totalCarrinho">Valor total R$ {{totalValorCarrinho}}</p>
      </div>
      
    -->

      <!--CARRINHO-Teste-->

      <div class="lista-de-compras">
        <div class="row d-flex justify-content-center">
          <p class="text-uppercase">Lista de compras <i class="fa fa-shopping-cart" aria-hidden="true"></i></p>
        </div>
        <div class="row menu-lista ">
          <div class="col-md-4"><p class="text-left font-weight-bold ">Itens</p></div>
          <div class="col-md-4"><p class="text-center font-weight-bold">Quantidade</p></div>
          <div class="col-md-4"><p class="text-right font-weight-bold">Preço Unitário</p></div>
        </div>
        <div class="row cesta" *ngFor='let item of totalCompras'>
          <div class="col-md-4">
            
            <p class="text-uppercase font-weight-bold nome text-left pb-0 mt-2">{{item.titulo}}</p>
          </div>
          <div class="col-md-4">
            
            <p class="text-uppercase font-weight-bold qtd text-center pb-0 mt-2">Un. {{item.quantidade}}</p>
          </div>
          <div class="col-md-4">
            
            <p class="text-uppercase font-weight-bold precoUn text-right pb-0 mt-2">R$ {{item.preco}}</p>
          </div>
        </div>
        <p class="text-uppercase totalCarrinho text-rigth">Valor total R$ {{totalValorCarrinho}}</p>
      </div>
      <!--/CARRINHO-Teste-->


      <div class="row mb-5">
        <div class="col-md-12">
          <button class="finalizar" (click)='comprar()'>Finalizar compra</button>
        </div>
      </div>
  
  </div>
  
  
  <!--Corpo da pagina Compras-->
  
  <!-- Modal -->
  <div class="modal fade" id="ModalLongoExemplo" tabindex="-1" role="dialog" aria-labelledby="TituloModalLongoExemplo"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="TituloModalLongoExemplo">
            Preencha todos os Dados
          </h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-group">
              <label for="dataSafra">Data da Safra</label>
              <input [(ngModel)]='produto.dataSafra' name="dataSafra" type="date" class="form-control" id="dataSafra"
                placeholder="00/00/0000">
            </div>
            <div class="form-group">
              <label for="titulo">Nome do Produto</label>
              <input [(ngModel)]='produto.titulo' name='titulo' type="text" class="form-control" id="titulo"
                placeholder="Digite o nome do produto! ">
            </div>
            <div class="form-group">
              <label for="descricao">Descrição</label>
              <input [(ngModel)]='produto.descricao' name="descricao" type="text" class="form-control" id="descricao"
                placeholder="Descreva seu produto caso seja necessário.">
            </div>
            <div class="form-group">
              <label for="fotoProduto">Foto do Produto</label>
              <input [(ngModel)]='produto.fotoProduto' name="fotoProduto" type="text" class="form-control"
                id="fotoProduto" placeholder="Coloque o link para a foto">
            </div>
            <div class="form-group">
              <label for="organico">Orgânico</label>
              <select class="form-control" name="organico" id="organico" (change)='tipoProduto($event)'>
                <option>Seu produto é Orgânico?</option>
                <option value='true'>Sim</option>
                <option value='false'>Não</option>
              </select>
            </div>
            <div class="form-group">
              <label for="qtdEstoque">Quantidade em Estoque</label>
              <input [(ngModel)]='produto.qtdEstoque' name="qtdEstoque" type="number" class="form-control" id="qtdEstoque"
                placeholder=" Insira a quantidade do seu estoque">
            </div>
            <div class="form-group">
              <label for="categoria">Categoria</label>
              <select class="form-control" name="categoria" id="categoria" (change)='categoriaProduto($event)'>
                <option>Selecione uma categoria</option>
                <option value="FRUTAS">Frutas</option>
                <option value="VERDURAS">Verduras</option>
                <option value="LEGUMES">Legumes</option>
                <option value="OUTROS">Outros</option>
              </select>
            </div>
            <div class="form-group">
              <label for="preco">Preço</label>
              <input [(ngModel)]='produto.preco' name="preco" type="text" class="form-control" id="preco"
                placeholder="R$ 00.00">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                Cancelar
              </button>
              <button (click)='cadastrarProduto()' type="button" class="btn btn-success"
                data-dismiss="modal">Cadastrar</button>
            </div>
            </form>
        </div>